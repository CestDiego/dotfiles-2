<!DOCTYPE html>
<html>
  <head>
    // TODO(jestelle) figure out if this can be compiled too
    <script src="injection.js"></script>
    // For debugging
    <script src="main.js"></script>
    // Compiled script for production
    <script src="main_compiled.js"></script>
    <script>
      <!-- load translate when user clicks -->
      chrome.browserAction.onClicked.addListener(function(tab) {
        addTranslateToTab(tab.id, tab, 'user_click');
      });

      <!-- load translate when page is completed loading -->
      chrome.tabs.onUpdated.addListener(function(tabId, changeInfo, tab) {
        if (changeInfo.status == 'complete') {
          addTranslateToTab(tabId, tab, 'page_load');
        }
      });
    </script>
  </head>
  <body></body>
</html>
